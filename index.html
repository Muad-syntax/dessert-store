<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dessert Store</title>
    <link rel="stylesheet" href="style/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Coiny&family=Hanken+Grotesk:ital,wght@0,100..900;1,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lexend+Deca:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik+Spray+Paint&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Coiny&family=Hanken+Grotesk:ital,wght@0,100..900;1,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lexend+Deca:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik+Spray+Paint&family=Zalando+Sans:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <!-- start container -->
    <div class="container">
        <!-- start header -->
        <header>
            <!-- navbar -->
            <nav>
                <div class="nama-toko">
                    <img src="images/Momochi.png" alt="" class="logo">
                    <h2>Dessert Store</h2>
                </div>
                <div class="hamburger" id="hamburger-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <ul type="none" id="nav-menu">
                    <li><a href="#beranda" class="btn">Beranda</a></li>
                    <li><a href="#produk" class="btn">Produk</a></li>
                    <li><a href="#keranjang" class="btn">Keranjang</a></li>
                    <li><a href="#footer" class="btn">Kontak</a></li>
                    <li><a href="login.html" class="btn" id="auth-btn">Login</a></li>
                </ul>
            </nav>
        </header>
        <!-- end header -->

        <!-- start main -->
        <main>
            <!-- hero -->
            <section class="hero" id="beranda">
                <div class="slider-container">
                    <div class="slider-wrapper">
                        <img src="images/bg-main (1).png" alt="">
                        <img src="images/bg-main (2).png" alt="">
                        <img src="images/bg-main (3).png" alt="">
                        <img src="images/bg-mochi.png" alt="">
                    </div>
                </div>

                <button class="prev-btn"><i class="fas fa-chevron-left"></i></button>
                <button class="next-btn"><i class="fas fa-chevron-right"></i></button>

                <div class="hero-content">
                    <h1>Selamat Datang di <br> Dessert Store</h1>
                    <span id="user-greeting" style="font-size: 2em; color: #FB9B8F; text-shadow: 0 2px 3px rgb(0, 0, 0);"></span>
                    <p>
                    <h3 style="font-weight: 100;">Menawarkan berbagai macam hidangan penutup</h3>
                    </p>
                    <a href="#produk" class="btn">Lihat Produk</a>
                </div>

                <div class="slider-dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </section>
            <!-- start menu -->
            <div class="menu" id="produk">
                <h1>Produk</h1>
                <div class="card">
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (2).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (3).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (2).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (3).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (2).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (3).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (2).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (3).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (2).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (3).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                    <div class="card-produk fade-in">
                        <img src="images/bg-main (1).png" alt="" style="width: 50px;">
                        <label>Original</label>
                        Rp.5,000
                        <button onclick="tambahKeKeranjang('Mochi Original', 5000)">Beli</button>
                    </div>
                </div>
            </div>
            <!-- end menu -->
        </main>
        <!-- end main -->

        <!-- keranjang -->
        <section id="keranjang" class="keranjang-section">
            <div class="keranjang-container">
                <h2><i class="fas fa-shopping-cart"></i> Keranjang Belanja</h2>

                <div class="keranjang-content">
                    <ul id="daftar-pesanan" class="daftar-pesanan">
                        <li class="empty-cart">Silahkan pilih menu</li>
                    </ul>
                    
                    <div class="keranjang-summary">
                        <p class="total-text">Total Belanja<span class="total-amount">Rp. <span id="total-harga">0</span></span></p>
                        <button onclick="checkoutWA()" class="btn btn-checkout">
                            <i class="fab fa-whatsapp"></i> Checkout via WhastApp
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- start footer -->
        <footer id="footer">
            <div class="footer-main">
                <div class="footer-contact">
                    <div class="footer-section contact">
                        <h3>Kontak Kami</h3>
                        <p><i class="fas fa-map-marker-alt contact-icon"></i> Jl. Manis Sekali No. 123</p>
                        <p><i class="fas fa-phone-alt contact-icon"></i> +62 857-9512-5230</p>
                        <a href="#" class="btn-gofood">
                            <i class="fas fa-motorcycle"></i> Order via GoFood
                        </a>
                    </div>
                    <div class="social-icons">
                        <h3>Kunjungi media sosial kami</h3>
                        <div class="icons">
                            <a href="https://www.instagram.com/momocichimomo?igsh=MXQ3dGx3eG41N2ZocQ=="><i
                                    class="fab fa-instagram"></i></i></a>
                            <a href="https://www.facebook.com/profile.php?id=61586943933387&mibextid=ZbWKwL"><i
                                    class="fab fa-facebook"></i></i></a>
                            <a href="https://www.tiktok.com/@momochioish1?_r=1&_t=ZS-93Ib79KWyZt"><i
                                    class="fab fa-tiktok"></i></i></a>
                            <a href="https://youtube.com/@chimomodeli?si=X6Hx04asf9-ArIu1"><i
                                    class="fab fa-youtube"></i></i></a>
                        </div>
                    </div>
                </div>
                <div class="footer-content">
                    <div class="footer-section about">
                        <h3>Dessert Store</h3>
                        <p>Menyediakan berbagai macam mochi <br> dan hidangan penutup manis untuk <br> hari istimewa
                            Anda.</p>
                    </div>
                    <div class="footer-section links">
                        <h3>Navigasi</h3>
                        <ul>
                            <li><a href="#beranda">Beranda</a></li>
                            <li><a href="#produk">Produk</a></li>
                            <li><a href="#keranjang">Keranjang</a></li>
                        </ul>
                    </div>

                </div>

            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Desert Store. Semua hak dilindungi.</p>
            </div>
        </footer>
        <!-- end footer -->
    </div>
    <!-- end container -->
    <script src="script/script.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        // Kita import onAuthStateChanged (CCTV) dan signOut (Log out)
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDLN4WbDZTun-DyYxRNcTQvgxf5Jww_Dcg",
            authDomain: "dessert-store-dab4d.firebaseapp.com",
            projectId: "dessert-store-dab4d",
            storageBucket: "dessert-store-dab4d.firebasestorage.app",
            messagingSenderId: "718001093765",
            appId: "1:718001093765:web:c7f8d97567cfcad0517dec"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Mengambil elemen dari HTML
        const authBtn = document.getElementById('auth-btn');
        const userGreeting = document.getElementById('user-greeting');

        // CCTV Firebase: Mengecek apakah ada user yang sedang login
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // --- JIKA USER SEDANG LOGIN ---
                window.isUserLoggedIn = true;
                // Ambil nama dari email (contoh: "budi@gmail.com" jadi "budi")
                const namaUser = user.email.split('@')[0];

                // Tampilkan sapaan
                userGreeting.textContent = `${namaUser}`;
                userGreeting.style.display = 'inline-block';

                // Ubah tombol Login jadi Logout
                authBtn.textContent = 'Logout';
                authBtn.href = '#';

                // Bikin tombolnya berfungsi untuk Logout saat diklik
                authBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    signOut(auth).then(() => {
                        alert("Berhasil Logout. Sampai jumpa lagi!");
                        window.location.reload(); // Refresh halaman
                    });
                });

            } else {
                // --- JIKA TIDAK ADA USER YANG LOGIN ---
                window.isUserLoggedIn = false;
                userGreeting.style.display = 'none';
                authBtn.textContent = 'Login';
                authBtn.href = 'login.html';
            }
        });
    </script>
</body>

</html>